{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b43dc700\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"content\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"title-text\",\n  style: {\n    \"margin-top\": \"20px\",\n    \"font-size\": \"16px\",\n    \"font-weight\": \"600\"\n  }\n}, \"Люди для подписания\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"list-container\",\n  style: {\n    \"margin-top\": \"10px\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<table style=\\\"width:99%;\\\" data-v-b43dc700><tr class=\\\"data-line\\\" data-v-b43dc700><th class=\\\"data-container title-text\\\" data-v-b43dc700>Фамилия</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Имя</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Роль</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Удалить</th></tr></table>\", 1);\nconst _hoisted_5 = {\n  class: \"data-all-container\"\n};\nconst _hoisted_6 = {\n  class: \"list-table\"\n};\nconst _hoisted_7 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_8 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_9 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_10 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"list-container\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createStaticVNode(\"<table style=\\\"width:99%;\\\" data-v-b43dc700><tr class=\\\"data-line\\\" data-v-b43dc700><th class=\\\"data-container title-text\\\" data-v-b43dc700>Фамилия</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Имя</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Роль</th><th class=\\\"data-container title-text\\\" data-v-b43dc700>Добавить</th></tr></table>\", 1);\nconst _hoisted_15 = {\n  class: \"data-all-container\"\n};\nconst _hoisted_16 = {\n  class: \"list-table\"\n};\nconst _hoisted_17 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_18 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_19 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_20 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_21 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Ссылка на контент\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.content = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.content]]), _withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Тип документа\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.type = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.type]]), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"table\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.addedUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user,\n      class: \"data-line\"\n    }, [_createElementVNode(\"td\", _hoisted_7, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(user.roleResponse.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, [_createElementVNode(\"p\", {\n      class: \"delete-button\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Поиск\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchWord = $event),\n    style: {\n      \"margin\": \"0\",\n      \"display\": \"inline-block\",\n      \"vertical-align\": \"middle\",\n      \"width\": \"200px\"\n    }\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchWord]]), _createElementVNode(\"p\", {\n    class: \"add-button\",\n    style: {\n      \"display\": \"inline-block\",\n      \"vertical-align\": \"middle\",\n      \"margin-left\": \"20px\",\n      \"padding-left\": \"20px\",\n      \"padding-right\": \"20px\"\n    },\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.searchUser && $options.searchUser(...args))\n  }, \"Поиск\")]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"table\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user,\n      class: \"data-line\"\n    }, [_createElementVNode(\"td\", _hoisted_17, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_18, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_19, _toDisplayString(user.roleResponse.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_20, [_createElementVNode(\"p\", {\n      class: \"add-button\",\n      onClick: $event => $options.addUser(user)\n    }, \"Добавить\", 8 /* PROPS */, _hoisted_21)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"p\", {\n    class: \"primary-button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.createDoc && $options.createDoc(...args))\n  }, \"Создать\")]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAS;gEAGlBC,oBAA0G;EAAvGD,KAAK,EAAC,YAAY;EAACE,KAA4D,EAA5D;IAAA;IAAA;IAAA;EAAA;GAA6D,qBAAmB;;EACjGF,KAAK,EAAC,gBAAgB;EAACE,KAAyB,EAAzB;IAAA;EAAA;;;;EASrBF,KAAK,EAAC;AAAoB;;EACtBA,KAAK,EAAC;AAAY;;EAEjBA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;;EAKvCE,KAAwB,EAAxB;IAAA;EAAA;AAAwB;;EAIxBF,KAAK,EAAC;AAAgB;;;EASpBA,KAAK,EAAC;AAAoB;;EACtBA,KAAK,EAAC;AAAY;;EAEjBA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;EAChCA,KAAK,EAAC;AAA0B;;;uBA3C9CG,oBAiDM,OAjDNC,UAiDM,mBAhDJH,oBAAyD;IAAlDI,WAAW,EAAC,mBAAmB;+DAAUC,aAAO;iDAAPA,aAAO,qBACvDL,oBAAkD;IAA3CI,WAAW,EAAC,eAAe;+DAAUC,UAAI;iDAAJA,UAAI,KAChDC,UAA0G,EAC1GN,oBAmBM,OAnBNO,UAmBM,GAlBJC,UAOQ,EACRR,oBASM,OATNS,UASM,GARJT,oBAOQ,SAPRU,UAOQ,sBANNR,oBAKKS,6BALcN,gBAAU,EAAlBO,IAAI;yBAAfV,oBAKK;MAL2BW,GAAG,EAAED,IAAI;MAAEb,KAAK,EAAC;QAC/CC,oBAA2D,MAA3Dc,UAA2D,mBAApBF,IAAI,CAACG,QAAQ,kBACpDf,oBAA4D,MAA5DgB,UAA4D,mBAArBJ,IAAI,CAACK,SAAS,kBACrDjB,oBAAoE,MAApEkB,UAAoE,mBAA7BN,IAAI,CAACO,YAAY,CAACC,IAAI,kBAC7DpB,oBAA2G,MAA3GqB,WAA2G,GAAtErB,oBAAiE;MAA9DD,KAAK,EAAC,eAAe;MAAEuB,OAAK,YAAEC,mBAAU,CAACX,IAAI,CAACY,EAAE;OAAG,SAAO;wCAK1GxB,oBAGM,OAHNyB,WAGM,mBAFJzB,oBAAgI;IAAzHI,WAAW,EAAC,OAAO;+DAAUC,gBAAU;IAAEJ,KAA+E,EAA/E;MAAA;MAAA;MAAA;MAAA;IAAA;iDAAZI,gBAAU,KAC9CL,oBAAsK;IAAnKD,KAAK,EAAC,YAAY;IAACE,KAAkH,EAAlH;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA,CAAkH;IAAEqB,OAAK,yCAAEC,mDAAU;KAAE,OAAK,KAEpKvB,oBAmBM,OAnBN0B,WAmBM,GAlBJC,WAOQ,EACR3B,oBASM,OATN4B,WASM,GARJ5B,oBAOQ,SAPR6B,WAOQ,sBANN3B,oBAKKS,6BALcN,iBAAW,EAAnBO,IAAI;yBAAfV,oBAKK;MAL4BW,GAAG,EAAED,IAAI;MAAEb,KAAK,EAAC;QAChDC,oBAA2D,MAA3D8B,WAA2D,mBAApBlB,IAAI,CAACG,QAAQ,kBACpDf,oBAA4D,MAA5D+B,WAA4D,mBAArBnB,IAAI,CAACK,SAAS,kBACrDjB,oBAAoE,MAApEgC,WAAoE,mBAA7BpB,IAAI,CAACO,YAAY,CAACC,IAAI,kBAC7DpB,oBAAmG,MAAnGiC,WAAmG,GAA9DjC,oBAAyD;MAAtDD,KAAK,EAAC,YAAY;MAAEuB,OAAK,YAAEC,gBAAO,CAACX,IAAI;OAAG,UAAQ;wCAKlGZ,oBAAwD;IAArDD,KAAK,EAAC,gBAAgB;IAAEuB,OAAK,yCAAEC,iDAAS;KAAE,SAAO","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","placeholder","$data","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","user","key","_hoisted_7","lastName","_hoisted_8","firstName","_hoisted_9","roleResponse","name","_hoisted_10","onClick","$options","id","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20"],"sourceRoot":"","sources":["/Users/baur/WebstormProjects/docs-flow-front/src/components/cabinet/cabinet_create_document.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <input placeholder=\"Ссылка на контент\" v-model=\"content\">\n    <input placeholder=\"Тип документа\" v-model=\"type\">\n    <p class=\"title-text\" style=\"margin-top: 20px; font-size: 16px; font-weight: 600;\">Люди для подписания</p>\n    <div class=\"list-container\" style=\"margin-top: 10px;\">\n      <table style=\"width: 99%\">\n        <tr class=\"data-line\">\n          <th class=\"data-container title-text\">Фамилия</th>\n          <th class=\"data-container title-text\">Имя</th>\n          <th class=\"data-container title-text\">Роль</th>\n          <th class=\"data-container title-text\">Удалить</th>\n        </tr>\n      </table>\n      <div class=\"data-all-container\">\n        <table class=\"list-table\" >\n          <tr v-for=\"user in addedUsers\" :key=\"user\" class=\"data-line\">\n            <td class=\"data-container data-text\">{{user.lastName}}</td>\n            <td class=\"data-container data-text\">{{user.firstName}}</td>\n            <td class=\"data-container data-text\">{{user.roleResponse.name}}</td>\n            <td class=\"data-container data-text\"><p class=\"delete-button\" @click=\"deleteUser(user.id)\">Удалить</p></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <div style=\"margin-top: 20px\">\n      <input placeholder=\"Поиск\" v-model=\"searchWord\" style=\"margin: 0; display: inline-block; vertical-align: middle; width: 200px;\">\n      <p class=\"add-button\" style=\"display: inline-block; vertical-align: middle; margin-left: 20px; padding-left: 20px; padding-right: 20px;\" @click=\"searchUser\">Поиск</p>\n    </div>\n    <div class=\"list-container\">\n      <table style=\"width: 99%\">\n        <tr class=\"data-line\">\n          <th class=\"data-container title-text\">Фамилия</th>\n          <th class=\"data-container title-text\">Имя</th>\n          <th class=\"data-container title-text\">Роль</th>\n          <th class=\"data-container title-text\">Добавить</th>\n        </tr>\n      </table>\n      <div class=\"data-all-container\">\n        <table class=\"list-table\" >\n          <tr v-for=\"user in searchUsers\" :key=\"user\" class=\"data-line\">\n            <td class=\"data-container data-text\">{{user.lastName}}</td>\n            <td class=\"data-container data-text\">{{user.firstName}}</td>\n            <td class=\"data-container data-text\">{{user.roleResponse.name}}</td>\n            <td class=\"data-container data-text\"><p class=\"add-button\" @click=\"addUser(user)\">Добавить</p></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <p class=\"primary-button\" @click=\"createDoc\">Создать</p>\n  </div>\n</template>\n\n<script>\nimport api from \"@/service/api\";\n\nexport default {\n  name: \"cabinet-create-document-component\",\n  data() {\n    return {\n      addedUsers: [],\n      searchUsers: [],\n      searchWord: \"\",\n      content: \"\",\n      type: \"\"\n    }\n  },\n  methods: {\n    addUser(user) {\n      for (let i = 0; i < this.addedUsers.length; i++) {\n        if (this.addedUsers[i].id === user.id) {\n          return;\n        }\n      }\n      this.addedUsers.push(user);\n    },\n    deleteUser(userId) {\n      for (let i = 0; i < this.addedUsers.length; i++) {\n        if (this.addedUsers[i].id === userId) {\n          this.addedUsers.splice(i, 1);\n          break;\n        }\n      }\n    },\n    searchUser() {\n      api.users.searchUser(this.searchWord).then((response) => {\n        this.searchUsers = response.data\n      })\n    },\n    createDoc() {\n      if (this.content.length !== 0 && this.type.length !== 0 && this.addedUsers.length !== 0) {\n        let routeUsers = []\n        for (let i = 0; i < this.addedUsers.length; i++) {\n          routeUsers.push(this.addedUsers[i].id)\n        }\n        api.docs.createDoc({\n          data: {\n            content: this.content,\n            type: this.type,\n            route: routeUsers\n          }\n        }).then(() => {\n          this.$router.push('/my-docs')\n        })\n      } else {\n        alert(\"Заполните все данные\")\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  margin-left: 20px;\n  margin-right: 20px;\n}\n\ninput {\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  margin-top: 17px;\n  background: white;\n  border: 1px solid #F8F8F8;\n  border-radius: 20px;\n  padding: 14px 22px;\n  width: 100%;\n  font-size: 16px;\n  color: black;\n  font-family: Rubik-regular, system-ui;\n  line-height: 21px;\n}\n::placeholder {\n  color: rgba(0, 0, 0, 0.6);\n}\ninput:focus {\n  outline: none;\n}\n.primary-button {\n  color: white;\n  font-size: 18px;\n  margin-top: 17px;\n  line-height: 21px;\n  padding: 19px 20px;\n  width: max-content;\n  text-align: center;\n  margin-left: auto;\n  margin-right: auto;\n  background: #5BBA6A;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.primary-button:hover {\n  background: #419a4c;\n}\n.delete-button {\n  color: white;\n  text-align: center;\n  background-color: red;\n  font-size: 12px;\n  border-radius: 10px;\n  padding: 18px 0;\n  cursor: pointer;\n}\n.add-button {\n  color: white;\n  text-align: center;\n  background-color: #5BBA6A;\n  font-size: 12px;\n  border-radius: 10px;\n  padding: 18px 0;\n  cursor: pointer;\n}\n\n.list-container {\n  margin-top: 24px;\n  background: white;\n  border-radius: 10px;\n}\n.data-all-container {\n  width: 100%;\n  overflow-x: scroll;\n}\n::-webkit-scrollbar {\n  width: 1px;\n}\n::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #5BBA6A;\n}\n::-webkit-scrollbar:hover {\n  background-color: #419a4c;\n}\n::-webkit-scrollbar-button {\n  background: #F8F8F8;\n}\n.list-table {\n  border-collapse: collapse;\n  width: 100%;\n  border: none;\n}\n.list-table .data-line:nth-child(even) {\n  background-color: #FAFAFB;\n}\n.data-container {\n  padding: 15px 20px;\n  text-align: start;\n}\n.title-text {\n  padding-left: 20px;\n  color: rgba(0, 0, 0, 0.8);\n  text-align: start;\n  font-family: Rubik-regular, system-ui;\n  font-size: 14px;\n  line-height: 17px;\n}\n.data-text {\n  padding-left: 20px;\n  color: black;\n  text-align: start;\n  font-family: Rubik-light, system-ui;\n  font-size: 14px;\n  line-height: 17px;\n}\n.tab-button {\n  color: white;\n  font-size: 16px;\n  padding: 10px 20px;\n  background-color: #5BBA6A;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  border-radius: 20px;\n  transition: 0.3s;\n  margin-right: 12px;\n}\n.tab-button:hover {\n  background-color: #419a4c;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}