{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ffd7969\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"content\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"header-text\"\n}, \"Создать документ\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"title-text\",\n  style: {\n    \"margin-top\": \"20px\",\n    \"font-size\": \"16px\",\n    \"font-weight\": \"600\"\n  }\n}, \"Люди для подписания\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"list-container\",\n  style: {\n    \"margin-top\": \"10px\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_createStaticVNode(\"<table style=\\\"width:99%;\\\" data-v-6ffd7969><tr class=\\\"data-line\\\" data-v-6ffd7969><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Фамилия</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Имя</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Роль</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Удалить</th></tr></table>\", 1);\nconst _hoisted_6 = {\n  class: \"data-all-container\"\n};\nconst _hoisted_7 = {\n  class: \"list-table\"\n};\nconst _hoisted_8 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_9 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_10 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_11 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_14 = {\n  class: \"list-container\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<table style=\\\"width:99%;\\\" data-v-6ffd7969><tr class=\\\"data-line\\\" data-v-6ffd7969><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Фамилия</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Имя</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Роль</th><th class=\\\"data-container title-text\\\" data-v-6ffd7969>Добавить</th></tr></table>\", 1);\nconst _hoisted_16 = {\n  class: \"data-all-container\"\n};\nconst _hoisted_17 = {\n  class: \"list-table\"\n};\nconst _hoisted_18 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_19 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_20 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_21 = {\n  class: \"data-container data-text\"\n};\nconst _hoisted_22 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createElementVNode(\"p\", {\n    class: \"tab-button\",\n    onClick: _cache[0] || (_cache[0] = $event => this.$router.push('/me-docs'))\n  }, \"Документы для подписания\"), _createElementVNode(\"p\", {\n    class: \"tab-button\",\n    onClick: _cache[1] || (_cache[1] = $event => this.$router.push('/my-docs'))\n  }, \"Мои документы\")]), _hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Ссылка на контент\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.content = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.content]]), _withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Тип документа\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.type = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.type]]), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.addedUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user,\n      class: \"data-line\"\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(user.roleResponse.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"p\", {\n      class: \"delete-button\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_12)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    placeholder: \"Поиск\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.searchWord = $event),\n    style: {\n      \"margin\": \"0\",\n      \"display\": \"inline-block\",\n      \"vertical-align\": \"middle\",\n      \"width\": \"200px\"\n    }\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchWord]]), _createElementVNode(\"p\", {\n    class: \"add-button\",\n    style: {\n      \"display\": \"inline-block\",\n      \"vertical-align\": \"middle\",\n      \"margin-left\": \"20px\",\n      \"padding-left\": \"20px\",\n      \"padding-right\": \"20px\"\n    },\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.searchUser && $options.searchUser(...args))\n  }, \"Поиск\")]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"table\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user,\n      class: \"data-line\"\n    }, [_createElementVNode(\"td\", _hoisted_18, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_19, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_20, _toDisplayString(user.roleResponse.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_21, [_createElementVNode(\"p\", {\n      class: \"add-button\",\n      onClick: $event => $options.addUser(user)\n    }, \"Добавить\", 8 /* PROPS */, _hoisted_22)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"p\", {\n    class: \"primary-button\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.createDoc && $options.createDoc(...args))\n  }, \"Создать\"), _createElementVNode(\"p\", {\n    class: \"primary-button\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.logoutMethod && $options.logoutMethod(...args))\n  }, \"Выйти\")]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","onClick","$router","push","_hoisted_2","placeholder","$data","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","user","key","_hoisted_8","lastName","_hoisted_9","firstName","_hoisted_10","roleResponse","name","_hoisted_11","$options","id","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21"],"sourceRoot":"","sources":["/Users/baur/WebstormProjects/docs-flow-front/src/components/docs/create_doc.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div>\n      <p class=\"tab-button\" @click=\"this.$router.push('/me-docs')\">Документы для подписания</p>\n      <p class=\"tab-button\" @click=\"this.$router.push('/my-docs')\">Мои документы</p>\n    </div>\n    <p class=\"header-text\">Создать документ</p>\n    <input placeholder=\"Ссылка на контент\" v-model=\"content\">\n    <input placeholder=\"Тип документа\" v-model=\"type\">\n    <p class=\"title-text\" style=\"margin-top: 20px; font-size: 16px; font-weight: 600;\">Люди для подписания</p>\n    <div class=\"list-container\" style=\"margin-top: 10px;\">\n      <table style=\"width: 99%\">\n        <tr class=\"data-line\">\n          <th class=\"data-container title-text\">Фамилия</th>\n          <th class=\"data-container title-text\">Имя</th>\n          <th class=\"data-container title-text\">Роль</th>\n          <th class=\"data-container title-text\">Удалить</th>\n        </tr>\n      </table>\n      <div class=\"data-all-container\">\n        <table class=\"list-table\" >\n          <tr v-for=\"user in addedUsers\" :key=\"user\" class=\"data-line\">\n            <td class=\"data-container data-text\">{{user.lastName}}</td>\n            <td class=\"data-container data-text\">{{user.firstName}}</td>\n            <td class=\"data-container data-text\">{{user.roleResponse.name}}</td>\n            <td class=\"data-container data-text\"><p class=\"delete-button\" @click=\"deleteUser(user.id)\">Удалить</p></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <div style=\"margin-top: 20px\">\n      <input placeholder=\"Поиск\" v-model=\"searchWord\" style=\"margin: 0; display: inline-block; vertical-align: middle; width: 200px;\">\n      <p class=\"add-button\" style=\"display: inline-block; vertical-align: middle; margin-left: 20px; padding-left: 20px; padding-right: 20px;\" @click=\"searchUser\">Поиск</p>\n    </div>\n    <div class=\"list-container\">\n      <table style=\"width: 99%\">\n        <tr class=\"data-line\">\n          <th class=\"data-container title-text\">Фамилия</th>\n          <th class=\"data-container title-text\">Имя</th>\n          <th class=\"data-container title-text\">Роль</th>\n          <th class=\"data-container title-text\">Добавить</th>\n        </tr>\n      </table>\n      <div class=\"data-all-container\">\n        <table class=\"list-table\" >\n          <tr v-for=\"user in searchUsers\" :key=\"user\" class=\"data-line\">\n            <td class=\"data-container data-text\">{{user.lastName}}</td>\n            <td class=\"data-container data-text\">{{user.firstName}}</td>\n            <td class=\"data-container data-text\">{{user.roleResponse.name}}</td>\n            <td class=\"data-container data-text\"><p class=\"add-button\" @click=\"addUser(user)\">Добавить</p></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <p class=\"primary-button\" @click=\"createDoc\">Создать</p>\n    <p class=\"primary-button\" @click=\"logoutMethod\">Выйти</p>\n  </div>\n</template>\n\n<script>\nimport api from \"@/service/api\";\n\nexport default {\n  name: \"create-doc-component\",\n  data() {\n    return {\n      addedUsers: [],\n      searchUsers: [],\n      searchWord: \"\",\n      content: \"\",\n      type: \"\"\n    }\n  },\n  methods: {\n    addUser(user) {\n      for (let i = 0; i < this.addedUsers.length; i++) {\n        if (this.addedUsers[i].id === user.id) {\n          return;\n        }\n      }\n      this.addedUsers.push(user);\n    },\n    deleteUser(userId) {\n      for (let i = 0; i < this.addedUsers.length; i++) {\n        if (this.addedUsers[i].id === userId) {\n          this.addedUsers.splice(i, 1);\n          break;\n        }\n      }\n    },\n    searchUser() {\n      api.users.searchUser(this.searchWord).then((response) => {\n        this.searchUsers = response.data\n      })\n    },\n    createDoc() {\n      if (this.content.length !== 0 && this.type.length !== 0 && this.addedUsers.length !== 0) {\n        let routeUsers = []\n        for (let i = 0; i < this.addedUsers.length; i++) {\n          routeUsers.push(this.addedUsers[i].id)\n        }\n        api.docs.createDoc({\n          data: {\n            content: this.content,\n            type: this.type,\n            route: routeUsers\n          }\n        }).then(() => {\n          this.$router.push('/my-docs')\n        })\n      } else {\n        alert(\"Заполните все данные\")\n      }\n    },\n    logoutMethod() {\n      localStorage.removeItem(\"auth_token\");\n      localStorage.removeItem(\"type\");\n      location.replace('/')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  text-align: start;\n  width: 60%;\n  margin: 20px auto 50px;\n}\n.header-text {\n  margin-top: 40px;\n  color: black;\n  font-size: 25px;\n  line-height: 29px;\n  font-family: Stolzl-medium, system-ui;\n  text-align: center;\n}\ninput {\n  margin-top: 17px;\n  background: white;\n  border: 1px solid #F8F8F8;\n  border-radius: 20px;\n  padding: 19px 22px;\n  width: 89%;\n  font-size: 18px;\n  color: black;\n  font-family: Rubik-regular, system-ui;\n  line-height: 21px;\n}\n::placeholder {\n  color: rgba(0, 0, 0, 0.6);\n}\ninput:focus {\n  outline: none;\n}\n.primary-button {\n  color: white;\n  font-size: 18px;\n  margin-top: 17px;\n  line-height: 21px;\n  padding: 19px 0;\n  width: 50%;\n  text-align: center;\n  margin-left: auto;\n  margin-right: auto;\n  background: #5BBA6A;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.primary-button:hover {\n  background: #419a4c;\n}\n.delete-button {\n  color: white;\n  text-align: center;\n  background-color: red;\n  font-size: 12px;\n  border-radius: 10px;\n  padding: 18px 0;\n  cursor: pointer;\n}\n.add-button {\n  color: white;\n  text-align: center;\n  background-color: #5BBA6A;\n  font-size: 12px;\n  border-radius: 10px;\n  padding: 18px 0;\n  cursor: pointer;\n}\n\n.list-container {\n  margin-top: 24px;\n  background: white;\n  border-radius: 10px;\n}\n.data-all-container {\n  width: 100%;\n  overflow-x: scroll;\n}\n::-webkit-scrollbar {\n  width: 1px;\n}\n::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #5BBA6A;\n}\n::-webkit-scrollbar:hover {\n  background-color: #419a4c;\n}\n::-webkit-scrollbar-button {\n  background: #F8F8F8;\n}\n.list-table {\n  border-collapse: collapse;\n  width: 100%;\n  border: none;\n}\n.list-table .data-line:nth-child(even) {\n  background-color: #FAFAFB;\n}\n.data-container {\n  padding: 15px 20px;\n  text-align: start;\n}\n.title-text {\n  padding-left: 20px;\n  color: rgba(0, 0, 0, 0.8);\n  text-align: start;\n  font-family: Rubik-regular, system-ui;\n  font-size: 14px;\n  line-height: 17px;\n}\n.data-text {\n  padding-left: 20px;\n  color: black;\n  text-align: start;\n  font-family: Rubik-light, system-ui;\n  font-size: 14px;\n  line-height: 17px;\n}\n.tab-button {\n  color: white;\n  font-size: 16px;\n  padding: 10px 20px;\n  background-color: #5BBA6A;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  border-radius: 20px;\n  transition: 0.3s;\n  margin-right: 12px;\n}\n.tab-button:hover {\n  background-color: #419a4c;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}